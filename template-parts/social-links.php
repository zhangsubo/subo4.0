<?php
/**
 * Social Links Template Part
 *
 * @package SUBO4_Classic_Theme
 */

// 获取所有社交链接字段
$github = get_field('SUBO4_github', 'option');
$twitter = get_field('SUBO4_twitter', 'option');
$email = get_field('SUBO4_email', 'option');
$weibo = get_field('SUBO4_weibo', 'option');
$wechat_qr = get_field('SUBO4_wechat_qr', 'option');
$wechat_id_qr = get_field('SUBO4_wechat_id_qr', 'option');

// 检查是否有任何社交链接
if ($github || $twitter || $email || $weibo || $wechat_qr || $wechat_id_qr) :
?>

<!-- 社交链接 -->
<div class="content-card text-center">
    <div class="social-links">
        <?php if ($github) : ?>
            <a href="<?php echo esc_url($github); ?>" target="_blank" rel="noopener noreferrer" title="GitHub">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="#333"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"/></svg>
            </a>
        <?php endif; ?>

        <?php if ($twitter) : ?>
            <a href="<?php echo esc_url($twitter); ?>" target="_blank" rel="noopener noreferrer" title="Twitter">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="#333"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
            </a>
        <?php endif; ?>

        <?php if ($email) : ?>
            <a href="mailto:<?php echo esc_attr($email); ?>" title="Email">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="#333"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
            </a>
        <?php endif; ?>

        <?php if ($weibo) : ?>
            <a href="<?php echo esc_url($weibo); ?>" target="_blank" rel="noopener noreferrer" title="微博">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="#333"><path d="M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.259-2.609 2.759-5.047 6.74-5.441 3.979-.394 7.413 1.404 7.671 4.018.259 2.6-2.759 5.049-6.739 5.443zM9.05 17.219c-.384.616-1.208.884-1.829.602-.612-.279-.793-.991-.406-1.593.379-.595 1.176-.861 1.793-.601.622.263.82.972.442 1.592zm1.27-1.627c-.141.237-.449.353-.689.253-.236-.09-.313-.361-.177-.586.138-.227.436-.346.672-.24.239.09.315.36.194.573zm.176-2.719c-1.893-.493-4.033.45-4.857 2.118-.836 1.704-.026 3.591 1.886 4.21 1.983.64 4.318-.341 5.132-2.179.8-1.793-.201-3.642-2.161-4.149zm7.563-1.224c-.346-.105-.579-.18-.402-.649.386-1.031.425-1.922.003-2.555-.789-1.187-2.924-1.109-5.403-.031 0 0-.774.34-.576-.277.381-1.215.324-2.234-.27-2.822-1.344-1.333-4.918.045-7.99 3.073C1.87 10.963.917 13.511.917 15.614c0 4.042 5.172 6.505 10.229 6.505 6.61 0 11.007-3.856 11.007-6.92 0-1.852-1.561-2.903-2.944-3.35zm.658-5.918c-.573-.663-1.418-.995-2.518-.995-.201 0-.395.016-.581.049l.061-.08c.356-.458.573-.971.649-1.543.076-.572-.01-1.121-.256-1.65-.247-.529-.646-.959-1.194-1.289-.549-.33-1.169-.502-1.863-.515-.693-.013-1.339.141-1.939.461-.599.32-1.098.755-1.493 1.303-.396.549-.639 1.129-.73 1.743-.091.613.003 1.184.281 1.715.279.53.689.963 1.23 1.3l-.023.016c-.32.24-.574.506-.761.8l1.219 1.531c.293-.365.68-.696 1.16-.994.481-.299 1.028-.517 1.64-.656.611-.139 1.253-.192 1.924-.159.672.033 1.319.176 1.939.428.62.253 1.164.598 1.632 1.035.469.437.803.959 1.004 1.568.201.609.239 1.24.115 1.892l1.761.423c.183-.835.16-1.656-.07-2.465-.229-.809-.631-1.537-1.206-2.186z"/></svg>
            </a>
        <?php endif; ?>

        <?php if ($wechat_qr) : ?>
            <a href="javascript:void(0);" class="wechat-qr-trigger" data-qr="<?php echo esc_url($wechat_qr); ?>" data-title="微信公众号" title="微信公众号">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="#333"><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 0 1-.023-.156.49.49 0 0 1 .201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.97-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z"/></svg>
            </a>
        <?php endif; ?>

        <?php if ($wechat_id_qr) : ?>
            <a href="javascript:void(0);" class="wechat-qr-trigger" data-qr="<?php echo esc_url($wechat_id_qr); ?>" data-title="个人微信号" title="个人微信号">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="#333"><path d="M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5a5.9 5.9 0 0 0 1.66-.23c-.14-.56-.22-1.15-.22-1.75 0-3.31 3.13-6 7-6 .3 0 .6.02.89.06C13.88 5.02 11.89 4 9.5 4zm-2.5 3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 4c-3.31 0-6 2.24-6 5s2.69 5 6 5c.83 0 1.62-.15 2.34-.42L21 22l-.5-1.81C21.57 19.44 22 18.27 22 17c0-2.76-2.69-5-6-5zm-2.5 2.5c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"/></svg>
            </a>
        <?php endif; ?>
    </div>
</div>

<!-- Bootstrap 5 Toast with Backdrop -->
<div class="toast-backdrop" id="toastBackdrop"></div>
<div class="toast-container position-fixed top-50 start-50 translate-middle" style="z-index: 1050;">
    <div id="qrToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
        <div class="toast-header">
            <strong class="me-auto" id="toastTitle">二维码</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body text-center">
            <img id="toastQrImage" src="" alt="二维码" style="max-width: 250px; max-height: 250px;">
        </div>
    </div>
</div>

<?php endif; ?>